<html lang="src"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generacion K VII - Reto. Problema 1</title>
    <meta name="description" content="Problema 1 del reto de Generacion K VII">

    <!-- <script type="module" src="/js/problema1.js"></script>

    <link rel="stylesheet" href="/css/main.css">
    <link rel="shortcut icon" type="image/png" href="favicon.png"> -->
  </head>

  <body>
<header> <img class="logo" src="#" alt="Logo KairosDS"> <div class="header__main-content"> <section> <img src="#" alt="avatar Nekgikis VII"> <div class="title"> <div>Reto VII Generaci贸n K</div> <span>Are you ready?</span> </div> </section> </div> <firebase-loginbutton id="loginButton" api-key="AIzaSyDd66qcHWAsJXZ74px3p26Er8v0YgRPYdc" domain="vgeneracionk" zone="europe-west1" messaging-sender-id="738167021637" app-id="1:738167021637:web:bba36fb6d4169162ae032c" measurement-id="G-9V2GH2L64W" provider="github"> </firebase-loginbutton> <p class="jeroglifico static"> 吼仇桂桂ヰ拣拣金吼 </p></header>
<main role="main" class="container fadein" id="main">
  <div class="wrapper" id="content">
    
    <h1><span class="jeroglifico"></span> PROBLEMA 1 <span class="jeroglifico"></span></h1>
    <h4>ENUNCIADO:</h4>
    <p>EL fara贸n Nekgikis VII quiere traducir un nombre al egipcio antiguo. Para ello, debe eliminar las vocales y los espacios del nombre. Por ejemplo, si el nombre es "Juan", el nombre traducido ser谩 "Jn".</p>
    <p>Tambi茅n quiere saber cu谩ntos d铆as han pasado desde una fecha dada hasta el 10 de marzo de 2023. Por ejemplo, si la fecha es "10/03/2020", el n煤mero de d铆as transcurridos ser谩 1095.</p>
    <p>Sin embargo si la fecha introducida fuera 10/03/2024, el n煤mero de d铆as transcurridos ser铆a -366.</p>
    <p>Es necesario que adem谩s se a帽ada el evento de perder el foco (blur) a los inputs de nombre y fecha, para que el fara贸n pueda leer el nombre sin vocales ni espacios y los d铆as transcurridos en los otros dos inputs correspondientes.</p>
    <p>Para ello, el fara贸n te pide que definas las siguientes funciones: calculateIntervalDays, removeVocalsAndSpaces, handleInputName y handleInputDate</p>
    
    <!-- A TENER EN CUENTA -->
    <section> <h4>A TENER EN CUENTA:</h4> <ul> <li> Te ayudar谩 usar IDE, codepen o similar antes de pegar el c贸digo en la soluci贸n </li> <li>Ce帽irse a codificar lo que se pide</li> <li> Puedes darle a comprobar tu c贸digo cuantas veces quieras, no hay l铆mite </li> <li>Si el c贸digo no es correcto solo lo indicar谩, pero no da pistas</li> <li> Hazlo sencillo, simple, tal y como indica el enunciado. No te compliques </li> <li> Si crees que tu c贸digo es correcto y la aplicaci贸n indica que la soluci贸n no es correcta revisa bien tu c贸digo, las instrucciones... un detalle puede dar al traste con la soluci贸n </li> <li>Asegurate de haber seguido bien todas las instrucciones.</li> <li>Las devtools son tus amigas ;)</li> </ul></section>
    
    <h4>PISTAS:</h4>
    <ul>
      <li>Tu c贸digo va a interactuar con el formulario declarado m谩s abajo</li>
      <li>Ten en cuenta el c贸digo HTML del formulario</li>
      <li>No puedes modificar el nombre de las funciones, pero puedes a帽adir otras si lo crees necesario.</li>
      <li>La funci贸n 'calculateIntervalDays' debe poder calcular d铆as anteriores (resultado positivo) y posteriores (resultado negativo) a la fecha indicada por defecto en el par谩metro toDate</li>
      <li>El callback del evento de perder el foco del input "Nombre" es handleInputName</li>
      <li>El callback del evento de perder el foco del input "Fecha" es handleInputDate.</li>
      <li>Averigua c贸mo hacer referencia a los inputs. Las devtools son tus amigas</li>
    </ul>
    <p></p>

    <h4>SOLUCIN:</h4>
    <h2>Formulario con el que interactuar谩 tu c贸digo:</h2>
    <form id="testForm">
      <label for="name">Nombre</label>
      <input type="text" id="name" name="name" value="">
      <label for="nameWithoutVocals">Nombre sin vocales</label>
      <input type="text" id="nameWithoutVocals" name="nameWithoutVocals" value="" disabled="">
      <label for="date">Fecha</label>
      <input type="date" id="date" name="date" value="">
      <label for="days">D铆as transcurridos hasta el 10/03/2023</label>
      <input type="text" id="days" name="days" value="" disabled="">
    </form>
    <h4>Tu c贸digo</h4>
    <!-- <textarea name="solucion" id="solucion" cols="30" rows="10" form="testForm">function calculateIntervalDays(fromDate, toDate = '10/03/2023') {}

    function removeVocalsAndSpaces(name) {}
    function handleInputName() {}
    function handleInputDate() {}
    // PUT THE INPUTS LISTENERS HERE
    </textarea>
    <button id="btnComprobar" form="testForm">Comprobar</button> -->
  </div>
</main>
<footer> <span class="secondary">GeneracionK VII</span> <span class="primary">漏 Kair贸sDS</span> <span class="secondary">2023</span> <firebase-crud id="firebaseCrud" reference-id="loginButton"></firebase-crud></footer>
<div id="overlay" class="hidden"> <div class="loader"></div></div>
<div> <div id="modalOverlay" class="hidden"></div> <div id="modal" class="hidden"> <div id="modal-content"> <button id="close-btn">X</button> <h2 id="modalTitle">Error</h2> <p id="modalContent">La soluci贸n no es correcta</p> </div> </div></div>
<script id="user_solution">

function calculateIntervalDays(fromDate, toDate = '10/03/2023') {
    let iniDate = changeDate(fromDate);
    let finalDate = changeDate(toDate);
    iniDate.setHours(0,0,0,0);
    finalDate.setHours(0,0,0,0);
    let diff = Math.floor ((finalDate.getTime() - iniDate.getTime())/1000/60/60/24);
    console.log( "Fecha FIJA: ",finalDate, "Fecha Vble: ",iniDate, "RESULTADO: ",diff);
    return diff;
}
function changeDate(datetocheck){
        let fecha = null;
        const regexEn = /^\d{4}-\d{2}-\d{2}$/;
        // Expresi贸n regular para formato espa帽ol
        const regexEs = /^([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/;
        if (regexEn.test(datetocheck)) {
        // Si la cadena de fecha coincide con la expresi贸n regular para formato ingl茅s, crear objeto Date directamente
          fecha = new Date(datetocheck);
        } else if (regexEs.test(datetocheck)) {
        // Si la cadena de fecha coincide con la expresi贸n regular para formato espa帽ol, convertirla manualmente a objeto Date
          const partes = datetocheck.split("/");
          fecha = new Date(partes[2], partes[1] - 1, partes[0]);
        } else {
        // Si la cadena de fecha no coincide con ninguna de las expresiones regulares, mostrar un mensaje de error
        console.log("La cadena de fecha no tiene un formato v谩lido.");
        }
        return fecha;
}

function removeVocalsAndSpaces(name) {
  let newname =name.replace(/[a谩e茅i铆o贸u煤眉\s]/gi, '');
  return newname;
}
function handleInputName() {
  let name = document.getElementById('name').value;
  document.getElementById("nameWithoutVocals").value = removeVocalsAndSpaces(name);
}

function handleInputDate() {
    let val= document.getElementById('date').value;
    document.getElementById("days").value = calculateIntervalDays(val);
}
// PUT THE INPUTS LISTENERS HERE
  let beginDate = document.getElementById('date');
  beginDate.addEventListener("blur", handleInputDate);
  let beginName = document.getElementById('name');
  beginName.addEventListener("blur", handleInputName);
</script></body></html> 